<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantumVA Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap">
    <style>
        :root {
            /* Main color scheme */
            --primary-color: #4279EE;
            --primary-hover: #3366DD;
            --secondary-color: #8338ec;
            --accent-color: #ff006e;
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --error-color: #f44336;
            
            /* Dark mode colors */
            --bg-primary: #080A0F;
            --bg-secondary: #111319;
            --bg-tertiary: #1A1D27;
            --bg-quaternary: #24283A;
            
            --text-primary: #ffffff;
            --text-secondary: #a1a7b3;
            --text-tertiary: #696e7a;
            
            --border-color: #24283A;
            --divider-color: #24283A;
            --shadow-color: rgba(0, 0, 0, 0.3);
            
            /* Layout dimensions */
            --sidebar-width: 300px;
            --sidebar-collapsed-width: 70px; /* Increased from 60px to provide more space */
            --avatar-panel-width: 320px;
            --content-panel-width: 360px;
            --content-panel-collapsed-width: 48px;
            --header-height: 56px;
            --dev-toolbar-height: 36px;
            --footer-height: 76px;
            
            /* UI properties */
            --transition-speed: 0.3s;
            --border-radius-sm: 6px;
            --border-radius-md: 8px;
            --border-radius-lg: 12px;
            --border-radius-xl: 18px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.5;
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            display: flex;
            height: 100vh;
            width: 100vw;
            position: relative;
        }

        /* LEFT SIDEBAR STYLES */
        .sidebar {
            position: fixed;
            left: 0;
            top: 96px; /* Adjusted to account for header + secondary nav */
            width: var(--sidebar-width);
            height: calc(100% - 96px);
            background-color: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            z-index: 30;
            transition: width var(--transition-speed);
        }

        .sidebar.collapsed {
            width: var(--sidebar-collapsed-width);
            overflow: hidden;
        }

        .sidebar-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 25;
            display: none;
        }

        .sidebar-backdrop.active {
            display: block;
        }

        .sidebar-header {
            height: var(--header-height);
            padding: 0 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--border-color);
        }

        .app-logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo-icon {
            width: 28px;
            height: 28px;
            background-color: var(--primary-color);
            border-radius: var(--border-radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            flex-shrink: 0;
        }

        .app-name {
            font-weight: 600;
            font-size: 16px;
            color: var(--text-primary);
            white-space: nowrap;
            opacity: 1;
            transition: opacity var(--transition-speed);
        }

        .sidebar.collapsed .app-name {
            opacity: 0;
            width: 0;
            overflow: hidden;
        }

        .sidebar-toggle {
            width: 30px;
            height: 30px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            flex-shrink: 0;
            position: absolute;
            right: -15px;
            top: 12px;
            z-index: 35;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }

        .sidebar-toggle:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .sidebar.collapsed .sidebar-toggle {
            right: -15px;
            background-color: var(--primary-color);
            color: white;
        }

        .sidebar.collapsed .sidebar-toggle i {
            transform: rotate(180deg);
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 12px 8px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            scrollbar-width: thin;
            scrollbar-color: var(--bg-quaternary) transparent;
        }

        .sidebar-content::-webkit-scrollbar {
            width: 5px;
        }

        .sidebar-content::-webkit-scrollbar-track {
            background: transparent;
        }

        .sidebar-content::-webkit-scrollbar-thumb {
            background-color: var(--bg-quaternary);
            border-radius: 10px;
        }

        .new-chat-button {
            margin: 0 6px 8px;
            padding: 10px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius-md);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .new-chat-button:hover {
            background-color: var(--primary-hover);
        }

        .sidebar.collapsed .new-chat-button span {
            display: none;
        }

        .sidebar-section {
            margin-bottom: 12px;
        }

        .sidebar-section-header {
            padding: 6px 14px;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-tertiary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            white-space: nowrap;
        }

        .sidebar.collapsed .sidebar-section-header span {
            display: none;
        }

        .sidebar-section-toggle {
            color: var(--text-tertiary);
            cursor: pointer;
            font-size: 10px;
            padding: 4px;
        }

        .sidebar-section-toggle:hover {
            color: var(--text-primary);
        }

        .sidebar.collapsed .sidebar-section-toggle {
            display: none;
        }

        .chat-list {
            display: flex;
            flex-direction: column;
            gap: 1px;
        }

        .chat-item {
            padding: 8px 12px;
            margin: 0 6px;
            border-radius: var(--border-radius-md);
            cursor: pointer;
            transition: background-color 0.2s;
            font-size: 14px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            white-space: nowrap;
            overflow: hidden;
        }

        .chat-item:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .chat-item.active {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .chat-item i {
            width: 16px;
            text-align: center;
            font-size: 12px;
            opacity: 0.8;
            flex-shrink: 0;
        }

        .chat-name {
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            transition: opacity var(--transition-speed);
        }

        .sidebar.collapsed .chat-name {
            opacity: 0;
            width: 0;
        }

        .chat-actions {
            display: none;
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        .chat-item:hover .chat-actions {
            display: flex;
            gap: 4px;
        }

        .sidebar.collapsed .chat-actions {
            display: none;
        }

        .chat-action {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            color: var(--text-tertiary);
            cursor: pointer;
            font-size: 12px;
        }

        .chat-action:hover {
            background-color: var(--bg-quaternary);
            color: var(--text-primary);
        }

        /* Quantum Status Module */
        .quantum-status {
            margin: 8px 12px;
            padding: 12px;
            background-color: var(--bg-tertiary);
            border-radius: var(--border-radius-md);
            font-size: 13px;
            transition: padding var(--transition-speed);
        }

        .sidebar.collapsed .quantum-status {
            padding: 8px;
        }

        .status-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--success-color);
            flex-shrink: 0;
        }

        .status-label {
            font-weight: 500;
            font-size: 13px;
            transition: opacity var(--transition-speed);
            white-space: nowrap;
        }

        .sidebar.collapsed .status-label {
            opacity: 0;
            width: 0;
            overflow: hidden;
        }

        .status-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            transition: opacity var(--transition-speed);
        }

        .sidebar.collapsed .status-metrics {
            opacity: 0;
            height: 0;
            overflow: hidden;
        }

        .metric-item {
            padding: 6px;
            background-color: var(--bg-quaternary);
            border-radius: var(--border-radius-sm);
        }

        .metric-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 4px;
            font-size: 11px;
        }

        .metric-name {
            display: flex;
            align-items: center;
            gap: 4px;
            color: var(--text-secondary);
        }

        .metric-name i {
            color: var(--primary-color);
            font-size: 10px;
        }

        .metric-value {
            font-weight: 600;
            color: var(--primary-color);
        }

        .metric-bar {
            height: 4px;
            width: 100%;
            background-color: var(--bg-secondary);
            border-radius: 2px;
            overflow: hidden;
        }

        .metric-bar-fill {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 2px;
        }

        .sidebar-footer {
            padding: 12px 14px;
            border-top: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            transition: padding var(--transition-speed);
        }

        .sidebar.collapsed .sidebar-footer {
            padding: 12px 0;
            justify-content: center;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
        }

        .avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 12px;
            color: white;
            flex-shrink: 0;
        }

        .user-info {
            flex: 1;
            transition: opacity var(--transition-speed);
        }

        .sidebar.collapsed .user-info {
            opacity: 0;
            width: 0;
            overflow: hidden;
        }

        .user-name {
            font-size: 13px;
            font-weight: 500;
        }

        .user-plan {
            font-size: 11px;
            color: var(--text-secondary);
        }

        .footer-actions {
            display: flex;
            gap: 2px;
            transition: opacity var(--transition-speed);
        }

        .sidebar.collapsed .footer-actions {
            opacity: 0;
            width: 0;
            overflow: hidden;
        }

        /* MAIN CONTAINER STYLES */
        .main-container {
            display: flex;
            margin-left: var(--sidebar-width);
            margin-right: calc(var(--avatar-panel-width) + var(--content-panel-collapsed-width));
            margin-top: 96px; /* Adjusted to account for header + secondary nav */
            width: calc(100% - var(--sidebar-width) - var(--avatar-panel-width) - var(--content-panel-collapsed-width));
            height: calc(100% - 96px);
            transition: margin var(--transition-speed), width var(--transition-speed);
        }

        .main-container.sidebar-collapsed {
            margin-left: var(--sidebar-collapsed-width);
            width: calc(100% - var(--sidebar-collapsed-width) - var(--avatar-panel-width) - var(--content-panel-collapsed-width));
        }

        .main-container.content-panel-expanded {
            margin-right: calc(var(--avatar-panel-width) + var(--content-panel-width));
            width: calc(100% - var(--sidebar-width) - var(--avatar-panel-width) - var(--content-panel-width));
        }

        .main-container.sidebar-collapsed.content-panel-expanded {
            margin-left: var(--sidebar-collapsed-width);
            width: calc(100% - var(--sidebar-collapsed-width) - var(--avatar-panel-width) - var(--content-panel-width));
        }

        /* CHAT COLUMN STYLES */
        .chat-column {
            display: flex;
            flex-direction: column;
            flex: 1;
            height: 100%;
            overflow: hidden;
        }

        /* Developer Toolbar */
        .dev-toolbar {
            height: var(--dev-toolbar-height);
            background-color: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            overflow-x: auto;
            scrollbar-width: none;
            transition: height var(--transition-speed);
        }

        .dev-toolbar::-webkit-scrollbar {
            display: none;
        }

        .dev-toolbar.collapsed {
            height: 0;
            overflow: hidden;
            border: none;
        }

        .dev-toolbar-toggle {
            position: absolute;
            top: var(--header-height);
            right: calc(var(--avatar-panel-width) + var(--content-panel-collapsed-width));
            width: 24px;
            height: 16px;
            background-color: var(--bg-tertiary);
            border: none;
            border-left: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            border-bottom-left-radius: var(--border-radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-tertiary);
            font-size: 10px;
            cursor: pointer;
            z-index: 10;
            transition: right var(--transition-speed);
        }

        .content-panel-expanded .dev-toolbar-toggle {
            right: calc(var(--avatar-panel-width) + var(--content-panel-width));
        }

        .dev-toolbar-toggle:hover {
            color: var(--text-primary);
        }

        .dev-toolbar-group {
            display: flex;
            align-items: center;
            border-right: 1px solid var(--border-color);
            padding: 0 8px;
        }

        .dev-toolbar-button {
            padding: 0 8px;
            height: 28px;
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--text-secondary);
            background: transparent;
            border: none;
            font-size: 12px;
            cursor: pointer;
            white-space: nowrap;
        }

        .dev-toolbar-button:hover {
            color: var(--text-primary);
        }

        .dev-toolbar-button i {
            font-size: 14px;
        }

        /* HEADER BAR */
        .header-bar {
            height: var(--header-height);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            z-index: 20;
        }

        .header-left {
            display: flex;
            align-items: center;
        }

        .menu-toggle {
            width: 36px;
            height: 36px;
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s;
            margin-right: 12px;
        }

        .menu-toggle:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .chat-title {
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chat-title i {
            font-size: 14px;
            color: var(--primary-color);
        }

        .header-actions {
            display: flex;
            gap: 6px;
        }

        .header-action {
            width: 36px;
            height: 36px;
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .header-action:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .header-action.active {
            background-color: var(--bg-tertiary);
            color: var(--primary-color);
        }

        /* CHAT CONTAINER STYLES */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 0;
            scroll-behavior: smooth;
            scrollbar-width: thin;
            scrollbar-color: var(--bg-quaternary) transparent;
        }

        .messages-container::-webkit-scrollbar {
            width: 5px;
        }

        .messages-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .messages-container::-webkit-scrollbar-thumb {
            background-color: var(--bg-quaternary);
            border-radius: 10px;
        }

        .message-group {
            margin: 0;
            border-bottom: 1px solid var(--border-color);
        }

        .message {
            padding: 16px;
            display: flex;
            transition: background-color 0.2s;
        }

        .message:hover {
            background-color: rgba(255, 255, 255, 0.02);
        }

        .message-user {
            background-color: rgba(255, 255, 255, 0.02);
        }

        .message-assistant {
            background-color: transparent;
        }

        .message-icon {
            width: 30px;
            height: 30px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            margin-right: 16px;
            flex-shrink: 0;
        }

        .message-user .message-icon {
            background-color: var(--bg-quaternary);
            color: var(--text-primary);
        }

        .message-assistant .message-icon {
            background-color: var(--primary-color);
            color: white;
        }

        .message-content {
            flex: 1;
            max-width: calc(100% - 100px);
            font-size: 14px;
            line-height: 1.6;
        }

        /* Message actions */
        .message-actions {
            display: flex;
            flex-wrap: wrap;
            margin-top: 12px;
            gap: 8px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .message:hover .message-actions {
            opacity: 1;
        }

        .message-action-button {
            padding: 6px 12px;
            border-radius: var(--border-radius-md);
            background-color: var(--bg-tertiary);
            color: var(--text-secondary);
            border: none;
            font-size: 12px;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .message-action-button:hover {
            background-color: var(--bg-quaternary);
            color: var(--text-primary);
        }

        /* Thinking process animation */
        .thinking-process {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .thinking-icon {
            width: 30px;
            height: 30px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            margin-right: 16px;
            flex-shrink: 0;
            background-color: var(--primary-color);
            color: white;
        }

        .thinking-content {
            flex: 1;
        }

        .thinking-header {
            display: flex;
            align-items: center;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            gap: 8px;
            margin-bottom: 12px;
        }

        .thinking-dots {
            display: flex;
            gap: 4px;
        }

        .thinking-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: var(--primary-color);
            animation: dot-pulse 1.4s infinite ease-in-out;
        }

        .thinking-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .thinking-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .thinking-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes dot-pulse {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.6; }
            30% { transform: translateY(-4px); opacity: 1; }
        }

        .thinking-steps {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding-left: 4px;
        }

        .thinking-step {
            padding: 8px 12px;
            border-radius: var(--border-radius-md);
            background-color: var(--bg-tertiary);
            font-size: 13px;
            line-height: 1.5;
            animation: step-in 0.5s forwards;
            opacity: 0;
            transform: translateY(5px);
        }

        @keyframes step-in {
            to { opacity: 1; transform: translateY(0); }
        }

        .thinking-step:nth-child(1) { animation-delay: 0.3s; }
        .thinking-step:nth-child(2) { animation-delay: 1.0s; }
        .thinking-step:nth-child(3) { animation-delay: 1.7s; }
        .thinking-step:nth-child(4) { animation-delay: 2.4s; }
        .thinking-step:nth-child(5) { animation-delay: 3.1s; }

        /* Chat Input Footer */
        .chat-footer {
            position: relative;
            padding: 16px;
            border-top: 1px solid var(--border-color);
            background-color: var(--bg-primary);
            z-index: 15;
        }

        .footer-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .input-container {
            position: relative;
            border-radius: var(--border-radius-xl);
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            transition: border-color 0.2s;
            overflow: hidden;
        }

        .input-container:focus-within {
            border-color: var(--primary-color);
        }

        .chat-textarea {
            width: 100%;
            min-height: 24px;
            max-height: 200px;
            padding: 12px 16px;
            background: transparent;
            border: none;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 14px;
            line-height: 1.5;
            color: var(--text-primary);
            resize: none;
            overflow-y: auto;
        }

        .chat-textarea:focus {
            outline: none;
        }

        .chat-textarea::placeholder {
            color: var(--text-tertiary);
        }

        .input-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            border-top: 1px solid var(--border-color);
        }

        .input-hint {
            color: var(--text-tertiary);
            font-size: 12px;
        }

        .input-buttons {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .input-button {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }

        .input-button:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .send-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .send-button:hover {
            background-color: var(--primary-hover);
        }

        .suggestion-chips {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            overflow-x: auto;
            padding-bottom: 4px;
            scrollbar-width: none;
        }

        .suggestion-chips::-webkit-scrollbar {
            display: none;
        }

        .suggestion-chip {
            padding: 8px 16px;
            border-radius: 16px;
            background-color: var(--bg-tertiary);
            color: var(--text-secondary);
            font-size: 13px;
            white-space: nowrap;
            cursor: pointer;
            transition: background-color 0.2s;
            border: 1px solid var(--border-color);
        }

        .suggestion-chip:hover {
            background-color: var(--bg-quaternary);
            color: var(--text-primary);
        }

        /* AVATAR PANEL - Right Side */
        .avatar-panel {
            position: fixed;
            right: var(--content-panel-collapsed-width);
            top: 96px; /* Adjusted to account for header + secondary nav */
            width: var(--avatar-panel-width);
            height: calc(100% - 96px);
            background-color: var(--bg-secondary);
            border-left: 1px solid var(--border-color);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            z-index: 10;
            transition: right var(--transition-speed), transform var(--transition-speed);
        }
        
        .avatar-panel.hidden {
            transform: translateX(100%);
        }

        .content-panel-expanded .avatar-panel {
            right: var(--content-panel-width);
        }

        .avatar-header {
            height: var(--header-height);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .avatar-title {
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .avatar-title i {
            color: var(--primary-color);
        }
        
        .avatar-description {
            font-size: 12px;
            color: var(--text-secondary);
            margin-left: 24px;
        }

        .avatar-controls {
            display: flex;
            gap: 6px;
        }

        .avatar-control {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .avatar-control:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        /* 3D Holographic Avatar */
        .hologram-container {
            flex: 1;
            position: relative;
            background: linear-gradient(125deg, var(--bg-tertiary) 0%, rgba(10, 12, 20, 1) 100%);
            overflow: hidden;
            perspective: 1000px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* 3D World Environment */
        .world-environment {
            position: absolute;
            width: 100%;
            height: 100%;
            perspective: 800px;
            transform-style: preserve-3d;
            overflow: hidden;
        }

        .floor-grid {
            position: absolute;
            width: 400px;
            height: 400px;
            bottom: -150px;
            left: 50%;
            transform: translateX(-50%) rotateX(60deg);
            background-image: 
                linear-gradient(rgba(66, 121, 238, 0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(66, 121, 238, 0.2) 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.3;
            transform-style: preserve-3d;
            animation: grid-fade 10s infinite alternate;
        }

        @keyframes grid-fade {
            0% { opacity: 0.2; }
            50% { opacity: 0.3; }
            100% { opacity: 0.4; }
        }

        /* Holographic platform */
        .hologram-platform {
            position: absolute;
            bottom: 10px;
            width: 220px;
            height: 10px;
            background: radial-gradient(ellipse at center, rgba(66, 121, 238, 0.3) 0%, rgba(66, 121, 238, 0.1) 60%, transparent 70%);
            border-radius: 50%;
            transform: rotateX(60deg);
            filter: blur(2px);
            animation: platform-glow 3s infinite alternate;
        }

        @keyframes platform-glow {
            0% { opacity: 0.7; filter: blur(2px); }
            100% { opacity: 1; filter: blur(3px); }
        }

        /* Main hologram avatar */
        .hologram-avatar {
            width: 220px;
            height: 320px;
            position: relative;
            transform-style: preserve-3d;
            animation: float 6s infinite ease-in-out;
            margin-bottom: 40px;
        }

        @keyframes float {
            0% { transform: translateY(0) rotateY(0deg); }
            25% { transform: translateY(-10px) rotateY(5deg); }
            50% { transform: translateY(0) rotateY(0deg); }
            75% { transform: translateY(-5px) rotateY(-5deg); }
            100% { transform: translateY(0) rotateY(0deg); }
        }

        /* 3D Character model */
        .character-model {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
        }

        /* 3D body parts */
        .character-head {
            position: absolute;
            width: 60px;
            height: 70px;
            top: 40px;
            left: 80px;
            background-color: rgba(66, 121, 238, 0.7);
            border-radius: 50% 50% 45% 45%;
            transform-style: preserve-3d;
            animation: head-move 8s infinite ease-in-out;
        }

        @keyframes head-move {
            0%, 100% { transform: rotateY(0deg); }
            50% { transform: rotateY(15deg); }
        }

        .character-body {
            position: absolute;
            width: 80px;
            height: 120px;
            top: 100px;
            left: 70px;
            background-color: rgba(66, 121, 238, 0.6);
            border-radius: 40% 40% 30% 30%;
            transform-style: preserve-3d;
        }

        .character-arm {
            position: absolute;
            width: 20px;
            height: 100px;
            background-color: rgba(66, 121, 238, 0.5);
            border-radius: 20px;
            transform-style: preserve-3d;
        }

        .character-arm.left {
            top: 110px;
            left: 45px;
            transform: rotate(10deg);
            animation: arm-left 8s infinite ease-in-out;
        }

        .character-arm.right {
            top: 110px;
            right: 45px;
            transform: rotate(-10deg);
            animation: arm-right 8s infinite ease-in-out;
        }

        @keyframes arm-left {
            0%, 100% { transform: rotate(10deg); }
            50% { transform: rotate(25deg); }
        }

        @keyframes arm-right {
            0%, 100% { transform: rotate(-10deg); }
            25% { transform: rotate(-30deg); }
            75% { transform: rotate(-5deg); }
        }

        .character-leg {
            position: absolute;
            width: 25px;
            height: 100px;
            background-color: rgba(66, 121, 238, 0.4);
            border-radius: 20px;
            transform-style: preserve-3d;
        }

        .character-leg.left {
            top: 210px;
            left: 80px;
            animation: leg-sway 8s infinite ease-in-out;
        }

        .character-leg.right {
            top: 210px;
            right: 80px;
            animation: leg-sway 8s infinite ease-in-out reverse;
        }

        @keyframes leg-sway {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }

        /* Face features */
        .character-eye {
            position: absolute;
            width: 12px;
            height: 14px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            z-index: 2;
        }

        .character-eye.left {
            top: 55px;
            left: 72px;
        }

        .character-eye.right {
            top: 55px;
            right: 72px;
        }

        .character-pupil {
            position: absolute;
            width: 6px;
            height: 6px;
            background-color: rgba(0, 50, 150, 0.8);
            border-radius: 50%;
            top: 4px;
            left: 3px;
            animation: pupil-move 6s infinite alternate;
        }

        @keyframes pupil-move {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(2px, 1px); }
            50% { transform: translate(-1px, 1px); }
            75% { transform: translate(1px, -1px); }
        }

        .character-mouth {
            position: absolute;
            width: 20px;
            height: 6px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 0 0 10px 10px;
            top: 75px;
            left: 102px;
            animation: mouth-move 4s infinite alternate;
        }

        @keyframes mouth-move {
            0%, 100% { transform: scaleX(1); height: 6px; }
            25% { transform: scaleX(1.5); height: 8px; }
            50% { transform: scaleX(0.8); height: 4px; }
            75% { transform: scaleX(1.2); height: 7px; }
        }

        /* Holographic scanning effects */
        .hologram-scan {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(to right, 
                transparent 0%, 
                rgba(66, 121, 238, 0.8) 50%, 
                transparent 100%);
            animation: scan 4s infinite ease-in-out;
            opacity: 0.7;
            pointer-events: none;
        }

        @keyframes scan {
            0% { top: 0; opacity: 0.7; }
            50% { opacity: 0.3; }
            100% { top: 100%; opacity: 0.7; }
        }

        /* Glow effect */
        .hologram-glow {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(
                ellipse at center,
                rgba(66, 121, 238, 0.1) 0%,
                transparent 70%
            );
            animation: pulse 4s infinite;
            pointer-events: none;
        }

        @keyframes pulse {
            0% { opacity: 0.5; }
            50% { opacity: 0.8; }
            100% { opacity: 0.5; }
        }

        /* Hologram beam effects */
        .hologram-beams {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .hologram-beam {
            position: absolute;
            width: 1px;
            height: 100%;
            background: linear-gradient(to top, rgba(66, 121, 238, 0.5), transparent 80%);
            bottom: 0;
            opacity: 0.3;
        }

        .hologram-beam:nth-child(1) {
            left: 25%;
            transform: rotate(-3deg);
        }

        .hologram-beam:nth-child(2) {
            left: 45%;
            transform: rotate(-1deg);
        }

        .hologram-beam:nth-child(3) {
            left: 55%;
            transform: rotate(1deg);
        }

        .hologram-beam:nth-child(4) {
            left: 75%;
            transform: rotate(3deg);
        }

        /* Particle effects */
        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background-color: rgba(66, 121, 238, 0.6);
            border-radius: 50%;
            opacity: 0;
            animation: particle-float 6s infinite ease-out;
        }

        @keyframes particle-float {
            0% { opacity: 0; transform: translateY(0) scale(0); }
            20% { opacity: 0.8; transform: translateY(-20px) scale(1); }
            100% { opacity: 0; transform: translateY(-100px) scale(0); }
        }

        /* Avatar speech bubble */
        .avatar-speech {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--bg-quaternary);
            border-radius: var(--border-radius-md);
            padding: 10px 14px;
            font-size: 12px;
            max-width: 80%;
            text-align: center;
            z-index: 20;
            border: 1px solid var(--border-color);
        }

        .avatar-speech:after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 8px 8px 0;
            border-style: solid;
            border-color: var(--bg-quaternary) transparent transparent;
        }

        /* Avatar customization controls */
        .avatar-customization {
            padding: 12px;
            border-top: 1px solid var(--border-color);
            background-color: var(--bg-secondary);
        }

        .avatar-options {
            display: flex;
            gap: 8px;
        }

        .avatar-option {
            flex: 1;
            padding: 8px 0;
            text-align: center;
            background-color: var(--bg-tertiary);
            border-radius: var(--border-radius-md);
            font-size: 13px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s;
            border: 1px solid transparent;
        }

        .avatar-option:hover {
            background-color: var(--bg-quaternary);
            color: var(--text-primary);
        }

        .avatar-option.active {
            background-color: var(--bg-quaternary);
            color: var(--primary-color);
            border-color: var(--primary-color);
        }

        /* CONTENT VIEWER PANEL */
        .content-viewer-panel {
            position: fixed;
            right: 0;
            top: 96px; /* Adjusted to account for header + secondary nav */
            width: var(--content-panel-collapsed-width);
            height: calc(100% - 96px);
            background-color: var(--bg-secondary);
            border-left: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            z-index: 20;
            transition: width var(--transition-speed);
            overflow: hidden;
        }

        .content-viewer-panel.expanded {
            width: var(--content-panel-width);
        }

        .viewer-toggle {
            width: var(--content-panel-collapsed-width);
            height: var(--header-height);
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            border-bottom: 1px solid var(--border-color);
        }

        .viewer-toggle:hover {
            color: var(--text-primary);
        }

        .viewer-toggle i {
            font-size: 20px;
            transition: transform 0.3s;
        }

        .content-viewer-panel.expanded .viewer-toggle i {
            transform: rotate(180deg);
        }

        .viewer-header {
            height: var(--header-height);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            border-bottom: 1px solid var(--border-color);
            opacity: 0;
            width: 0;
            overflow: hidden;
            transition: opacity 0.3s;
        }

        .content-viewer-panel.expanded .viewer-header {
            opacity: 1;
            width: auto;
            overflow: visible;
        }

        .viewer-title {
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .viewer-title i {
            color: var(--primary-color);
        }

        .viewer-tabs {
            display: none;
            border-bottom: 1px solid var(--border-color);
            background-color: var(--bg-tertiary);
            overflow-x: auto;
            scrollbar-width: none;
        }

        .content-viewer-panel.expanded .viewer-tabs {
            display: flex;
        }

        .viewer-tabs::-webkit-scrollbar {
            display: none;
        }

        .viewer-tab {
            padding: 8px 12px;
            font-size: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s;
            border-right: 1px solid var(--border-color);
            white-space: nowrap;
        }

        .viewer-tab.active {
            background-color: var(--bg-secondary);
            color: var(--primary-color);
        }

        .viewer-tab:hover {
            color: var(--text-primary);
        }

        .viewer-content {
            flex: 1;
            overflow: hidden;
            position: relative;
            display: none;
        }

        .content-viewer-panel.expanded .viewer-content {
            display: flex;
            flex-direction: column;
        }

        .viewer-sidebar {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 16px;
            gap: 16px;
            height: 100%;
        }

        .content-viewer-panel.expanded .viewer-sidebar {
            display: none;
        }

        .viewer-sidebar-icon {
            width: 36px;
            height: 36px;
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .viewer-sidebar-icon:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .viewer-sidebar-icon.active {
            background-color: var(--bg-tertiary);
            color: var(--primary-color);
        }

        /* File Actions Toolbar */
        .file-actions-toolbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-color);
            background-color: var(--bg-tertiary);
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .file-icon {
            width: 36px;
            height: 36px;
            border-radius: var(--border-radius-md);
            background-color: var(--bg-quaternary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: #3776AB; /* Python blue color */
        }
        
        .file-details {
            display: flex;
            flex-direction: column;
        }
        
        .file-name {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .file-meta {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .file-actions {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .file-action-button {
            width: 32px;
            height: 32px;
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            position: relative;
        }
        
        .file-action-button:hover {
            background-color: var(--bg-quaternary);
            color: var(--text-primary);
        }
        
        .file-action-button.active {
            color: var(--primary-color);
        }
        
        /* Dropdown menus for file actions */
        .file-action-dropdown {
            position: relative;
        }
        
        .dropdown-toggle::after {
            content: '';
            display: inline-block;
            margin-left: 4px;
            vertical-align: middle;
            border-top: 4px solid;
            border-right: 4px solid transparent;
            border-left: 4px solid transparent;
        }
        
        .file-action-dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 4px;
            min-width: 180px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-md);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            animation: dropdown-fade 0.15s ease-in-out;
        }
        
        .file-action-dropdown:hover .file-action-dropdown-menu {
            display: block;
        }
        
        .dropdown-item {
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        
        .dropdown-item:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        .dropdown-item.danger {
            color: var(--error-color);
        }
        
        .dropdown-item.danger:hover {
            background-color: rgba(244, 67, 54, 0.1);
        }
        
        .dropdown-item i {
            width: 16px;
            text-align: center;
        }
        
        .dropdown-divider {
            height: 1px;
            background-color: var(--border-color);
            margin: 4px 0;
        }

        .viewer-content-body {
            flex: 1;
            padding: 0 12px 12px;
            overflow: auto;
        }

        /* Code preview and editor */
        .code-preview {
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            line-height: 1.5;
            padding: 12px;
            border-radius: var(--border-radius-sm);
            background-color: var(--bg-tertiary);
            color: var(--text-secondary);
            overflow-x: auto;
            white-space: pre;
            height: 100%;
            position: relative;
        }

        /* Modal styles */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 100;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .modal-backdrop.active {
            display: flex;
            opacity: 1;
            visibility: visible;
        }

        .modal-container {
            background-color: var(--bg-secondary);
            border-radius: var(--border-radius-lg);
            width: 500px;
            max-width: 90%;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transform: translateY(20px);
            transition: transform 0.3s;
        }

        .modal-backdrop.active .modal-container {
            transform: translateY(0);
        }

        .modal-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 16px;
            font-weight: 600;
        }

        .modal-close {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            width: 30px;
            height: 30px;
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .modal-close:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .modal-body {
            padding: 16px;
            max-height: calc(90vh - 130px);
            overflow-y: auto;
        }

        .modal-footer {
            padding: 16px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }

        .modal-button {
            padding: 8px 16px;
            border-radius: var(--border-radius-md);
            font-size: 14px;
            cursor: pointer;
            border: none;
        }

        .modal-button-secondary {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .modal-button-primary {
            background-color: var(--primary-color);
            color: white;
        }

        /* RESPONSIVE STYLES */
        @media (max-width: 1280px) {
            :root {
                --avatar-panel-width: 280px;
                --content-panel-width: 320px;
            }
        }

        @media (max-width: 992px) {
            :root {
                --avatar-panel-width: 100%;
                --content-panel-width: 100%;
                --content-panel-collapsed-width: 0;
            }
            
            .main-container {
                margin-right: 0;
                width: calc(100% - var(--sidebar-width));
            }
            
            .main-container.sidebar-collapsed {
                width: calc(100% - var(--sidebar-collapsed-width));
            }
            
            .avatar-panel {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 50;
                transform: translateX(100%);
                transition: transform var(--transition-speed);
                right: 0;
            }
            
            .content-viewer-panel {
                display: none;
            }
        }

        /* Animation utilities */
        .spin {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Main Header and Menu Styles */
        .main-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 54px;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            position: relative;
            z-index: 150;
            padding: 0 16px;
        }
        
        .brand-section {
            display: flex;
            align-items: center;
            gap: 10px;
            height: 54px;
        }
        
        .brand-name {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            letter-spacing: 0.5px;
        }
        
        .logo-icon {
            width: 34px;
            height: 34px;
            background-color: var(--primary-color);
            border-radius: var(--border-radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .top-menu-container {
            position: relative;
            height: 100%;
            display: flex;
            align-items: center;
        }
        
        .menu-toggle-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 0 14px;
            height: 38px;
            border-radius: var(--border-radius-md);
            background-color: var(--bg-tertiary);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .menu-toggle-btn:hover {
            background-color: var(--bg-quaternary);
            color: var(--text-primary);
        }
        
        .menu-toggle-btn.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .main-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0 0 8px 8px;
            min-width: 200px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 160;
            animation: dropdown-fade 0.2s ease-in-out;
            transform-origin: top left;
            padding: 8px 0;
        }
        
        .main-dropdown.active {
            display: block;
        }
        
        .top-menu-group {
            display: flex;
            flex-direction: column;
            width: 100%;
        }
        
        .top-menu-item {
            position: relative;
            width: 100%;
        }
        
        .top-menu-trigger {
            padding: 10px 16px;
            width: 100%;
            display: flex;
            align-items: center;
            color: var(--text-secondary);
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        
        .top-menu-trigger:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        .top-menu-item.active .top-menu-trigger {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        .top-menu-submenu {
            position: absolute;
            top: 0;
            left: 100%;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0 8px 8px 0;
            min-width: 220px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 165;
            animation: submenu-fade 0.15s ease-in-out;
        }
        
        @keyframes dropdown-fade {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes submenu-fade {
            from {
                opacity: 0;
                transform: translateX(-5px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .top-menu-item:hover .top-menu-submenu {
            display: block;
        }
        
        .top-menu-dropdown-item {
            padding: 10px 16px;
            font-size: 14px;
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background-color 0.2s, color 0.2s;
        }
        
        .top-menu-dropdown-item:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        .top-menu-dropdown-item i {
            width: 18px;
            text-align: center;
        }
        
        .top-menu-dropdown-divider {
            height: 1px;
            background-color: var(--border-color);
            margin: 6px 0;
        }
        
        /* Secondary Navigation Bar */
        .secondary-nav-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 42px;
            background-color: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            padding: 0 16px;
            position: relative;
            z-index: 140;
        }
        
        .panel-controls {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .panel-control-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            border-radius: var(--border-radius-md);
            font-size: 13px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        
        .panel-control-item:hover {
            background-color: var(--bg-quaternary);
            color: var(--text-primary);
        }
        
        .panel-control-item.active {
            background-color: rgba(66, 121, 238, 0.2);
            color: var(--primary-color);
        }
        
        .current-project {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* File Explorer Styles */
        .file-explorer-toolbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px;
            border-bottom: 1px solid var(--border-color);
            background-color: var(--bg-tertiary);
        }
        
        .file-search {
            display: flex;
            align-items: center;
            background-color: var(--bg-quaternary);
            border-radius: var(--border-radius-md);
            padding: 6px 10px;
            width: 220px;
        }
        
        .file-search i {
            color: var(--text-tertiary);
            margin-right: 8px;
        }
        
        .file-search-input {
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 13px;
            outline: none;
            width: 100%;
        }
        
        .file-actions {
            display: flex;
            gap: 6px;
        }
        
        .file-action-btn {
            width: 28px;
            height: 28px;
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--bg-quaternary);
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        
        .file-action-btn:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .file-explorer-breadcrumb {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            font-size: 13px;
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: none;
        }
        
        .file-explorer-breadcrumb::-webkit-scrollbar {
            display: none;
        }
        
        .breadcrumb-item {
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .breadcrumb-item:hover {
            color: var(--text-primary);
        }
        
        .breadcrumb-item.active {
            color: var(--primary-color);
        }
        
        .breadcrumb-separator {
            margin: 0 6px;
            color: var(--text-tertiary);
        }
        
        .file-explorer-view {
            display: flex;
            height: 400px;
        }
        
        .file-explorer-sidebar {
            width: 220px;
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            background-color: var(--bg-tertiary);
        }
        
        .file-tree {
            padding: 8px;
        }
        
        .file-tree-item {
            margin-bottom: 2px;
        }
        
        .file-tree-item-label {
            padding: 6px 8px;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--text-secondary);
            transition: background-color 0.2s, color 0.2s;
        }
        
        .file-tree-item-label:hover {
            background-color: var(--bg-quaternary);
            color: var(--text-primary);
        }
        
        .file-tree-item.active > .file-tree-item-label {
            background-color: rgba(66, 121, 238, 0.2);
            color: var(--primary-color);
        }
        
        .file-tree-children {
            margin-left: 16px;
            margin-top: 2px;
        }
        
        .file-explorer-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .file-list-header {
            display: flex;
            padding: 8px 16px;
            background-color: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            font-size: 12px;
            color: var(--text-tertiary);
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .file-list-header-item {
            cursor: pointer;
        }
        
        .file-list-header-item:hover {
            color: var(--text-primary);
        }
        
        .file-name-header {
            flex: 2;
        }
        
        .file-size-header, .file-type-header, .file-modified-header {
            flex: 1;
        }
        
        .file-list {
            flex: 1;
            overflow-y: auto;
            padding: 8px;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-radius: var(--border-radius-md);
            margin-bottom: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .file-item:hover {
            background-color: var(--bg-tertiary);
        }
        
        .file-item.selected {
            background-color: rgba(66, 121, 238, 0.1);
        }
        
        .file-item-icon {
            width: 32px;
            height: 32px;
            border-radius: var(--border-radius-sm);
            background-color: var(--bg-quaternary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .file-item[data-extension="py"] .file-item-icon {
            color: #3776AB;
        }
        
        .file-item[data-extension="js"] .file-item-icon {
            color: #F7DF1E;
        }
        
        .file-item[data-extension="html"] .file-item-icon {
            color: #E34F26;
        }
        
        .file-item[data-extension="css"] .file-item-icon {
            color: #1572B6;
        }
        
        .file-item[data-extension="json"] .file-item-icon {
            color: #F5DE19;
        }
        
        .file-item[data-extension="md"] .file-item-icon {
            color: #1B1F23;
        }
        
        .file-item-details {
            flex: 1;
            display: flex;
            font-size: 13px;
        }
        
        .file-item-name {
            flex: 2;
            color: var(--text-primary);
        }
        
        .file-item-size, .file-item-type, .file-item-modified {
            flex: 1;
            color: var(--text-secondary);
        }
        
        .file-item-actions {
            display: none;
            gap: 4px;
        }
        
        .file-item:hover .file-item-actions {
            display: flex;
        }
        
        .file-item-action {
            width: 28px;
            height: 28px;
            border-radius: var(--border-radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        
        .file-item-action:hover {
            background-color: var(--bg-quaternary);
            color: var(--primary-color);
        }

        /* Download modal styles */
        .download-options {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .download-option {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .download-files-list {
            max-height: 240px;
            overflow-y: auto;
            padding: 8px;
        }
        
        .download-file-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-radius: var(--border-radius-md);
            margin-bottom: 4px;
            transition: background-color 0.2s;
        }
        
        .download-file-item:hover {
            background-color: var(--bg-tertiary);
        }
        
        .download-file-check {
            margin-right: 8px;
        }
        
        .download-file-icon {
            width: 24px;
            height: 24px;
            border-radius: var(--border-radius-sm);
            background-color: var(--bg-quaternary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .download-file-name {
            flex: 1;
            font-size: 13px;
            color: var(--text-primary);
        }
        
        .download-file-size {
            font-size: 12px;
            color: var(--text-secondary);
            width: 60px;
            text-align: right;
        }
        
        .download-summary {
            padding: 16px;
            background-color: var(--bg-tertiary);
            border-radius: var(--border-radius-md);
            margin: 12px;
        }
        
        .download-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        
        .download-format {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .download-label {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .download-value {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .download-format-options {
            display: flex;
            gap: 16px;
        }
        
        .download-format-option {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: var(--text-secondary);
        }
    </style>
</head>
<body>
    <!-- Main Header with Logo and Collapsible Menu -->
    <header class="main-header">
        <div class="brand-section">
            <div class="logo-icon">
                <i class="fas fa-atom"></i>
            </div>
            <div class="brand-name">QVA</div>
        </div>
        
        <nav class="top-menu-container">
            <div class="menu-toggle-btn" id="main-menu-toggle">
                <i class="fas fa-bars"></i>
                <span>Menu</span>
            </div>
            <div class="top-menu-dropdown main-dropdown" id="main-menu-dropdown">
                <div class="top-menu-group">
                    <div class="top-menu-item">
                        <div class="top-menu-trigger">File</div>
                        <div class="top-menu-submenu">
                            <div class="top-menu-dropdown-item" id="new-file-btn">
                                <i class="fas fa-file"></i> New File
                            </div>
                            <div class="top-menu-dropdown-item" id="open-file-btn">
                                <i class="fas fa-folder-open"></i> Open File
                            </div>
                            <div class="top-menu-dropdown-divider"></div>
                            <div class="top-menu-dropdown-item" id="file-explorer-btn">
                                <i class="fas fa-folder"></i> File Explorer
                            </div>
                            <div class="top-menu-dropdown-item" id="download-btn">
                                <i class="fas fa-download"></i> Download Files
                            </div>
                            <div class="top-menu-dropdown-item" id="zip-files-btn">
                                <i class="fas fa-file-archive"></i> Create Zip Archive
                            </div>
                        </div>
                    </div>
                    <div class="top-menu-item">
                        <div class="top-menu-trigger">Edit</div>
                        <div class="top-menu-submenu">
                            <div class="top-menu-dropdown-item">
                                <i class="fas fa-cut"></i> Cut
                            </div>
                            <div class="top-menu-dropdown-item">
                                <i class="fas fa-copy"></i> Copy
                            </div>
                            <div class="top-menu-dropdown-item">
                                <i class="fas fa-paste"></i> Paste
                            </div>
                        </div>
                    </div>
                    <div class="top-menu-item">
                        <div class="top-menu-trigger">View</div>
                        <div class="top-menu-submenu">
                            <div class="top-menu-dropdown-item">
                                <i class="fas fa-columns"></i> Toggle Panels
                            </div>
                            <div class="top-menu-dropdown-item">
                                <i class="fas fa-expand"></i> Full Screen
                            </div>
                        </div>
                    </div>
                    <div class="top-menu-item">
                        <div class="top-menu-trigger">Help</div>
                        <div class="top-menu-submenu">
                            <div class="top-menu-dropdown-item">
                                <i class="fas fa-question-circle"></i> Documentation
                            </div>
                            <div class="top-menu-dropdown-item">
                                <i class="fas fa-info-circle"></i> About
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    
    <!-- Secondary Navigation Bar for Panel Controls -->
    <div class="secondary-nav-bar">
        <div class="panel-controls">
            <div class="panel-control-item" id="toggle-left-panel">
                <i class="fas fa-columns"></i>
                <span>Toggle Sidebar</span>
            </div>
            <div class="panel-control-item" id="toggle-dev-tools">
                <i class="fas fa-terminal"></i>
                <span>Developer Tools</span>
            </div>
            <div class="panel-control-item" id="toggle-avatar-panel">
                <i class="fas fa-user-astronaut"></i>
                <span>Assistant View</span>
            </div>
            <div class="panel-control-item" id="toggle-content-panel">
                <i class="fas fa-code"></i>
                <span>Content Viewer</span>
            </div>
        </div>
        
        <div class="current-project">
            <i class="fas fa-project-diagram"></i>
            <span>Current Project: Quantum Computing Basics</span>
        </div>
    </div>

    <div class="app-container">
        <!-- Left Sidebar (Collapsible) -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="app-logo">
                    <div class="logo-icon">
                        <i class="fas fa-atom"></i>
                    </div>
                </div>
                <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>
            
            <div class="sidebar-content">
                <button class="new-chat-button">
                    <i class="fas fa-plus"></i>
                    <span>New Chat</span>
                </button>
                
                <div class="sidebar-section">
                    <div class="sidebar-section-header">
                        <span>System Status</span>
                        <div class="sidebar-section-toggle">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                    <div class="quantum-status">
                        <div class="status-header">
                            <div class="status-indicator"></div>
                            <div class="status-label">Quantum State: Operational</div>
                        </div>
                        <div class="status-metrics">
                            <div class="metric-item">
                                <div class="metric-header">
                                    <div class="metric-name">
                                        <i class="fas fa-atom"></i>
                                        Coherence
                                    </div>
                                    <div class="metric-value">97.8%</div>
                                </div>
                                <div class="metric-bar">
                                    <div class="metric-bar-fill" style="width: 97.8%;"></div>
                                </div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-header">
                                    <div class="metric-name">
                                        <i class="fas fa-clock"></i>
                                        Time Crystal
                                    </div>
                                    <div class="metric-value">92.4%</div>
                                </div>
                                <div class="metric-bar">
                                    <div class="metric-bar-fill" style="width: 92.4%;"></div>
                                </div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-header">
                                    <div class="metric-name">
                                        <i class="fas fa-brain"></i>
                                        Nanobrain
                                    </div>
                                    <div class="metric-value">95.6%</div>
                                </div>
                                <div class="metric-bar">
                                    <div class="metric-bar-fill" style="width: 95.6%;"></div>
                                </div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-header">
                                    <div class="metric-name">
                                        <i class="fas fa-project-diagram"></i>
                                        WBE
                                    </div>
                                    <div class="metric-value">98.2%</div>
                                </div>
                                <div class="metric-bar">
                                    <div class="metric-bar-fill" style="width: 98.2%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-section-header">
                        <span>Recent Chats</span>
                        <div class="sidebar-section-toggle">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                    <div class="chat-list">
                        <div class="chat-item active">
                            <i class="fas fa-comment"></i>
                            <div class="chat-name">Quantum Computing Basics</div>
                            <div class="chat-actions">
                                <button class="chat-action">
                                    <i class="fas fa-pen"></i>
                                </button>
                                <button class="chat-action">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <div class="chat-item">
                            <i class="fas fa-comment"></i>
                            <div class="chat-name">Time Crystal Analysis</div>
                            <div class="chat-actions">
                                <button class="chat-action">
                                    <i class="fas fa-pen"></i>
                                </button>
                                <button class="chat-action">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <div class="chat-item">
                            <i class="fas fa-comment"></i>
                            <div class="chat-name">Nanobrain Integration Project</div>
                            <div class="chat-actions">
                                <button class="chat-action">
                                    <i class="fas fa-pen"></i>
                                </button>
                                <button class="chat-action">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <div class="chat-item">
                            <i class="fas fa-comment"></i>
                            <div class="chat-name">Quantum Code Examples</div>
                            <div class="chat-actions">
                                <button class="chat-action">
                                    <i class="fas fa-pen"></i>
                                </button>
                                <button class="chat-action">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-section-header">
                        <span>Projects</span>
                        <div class="sidebar-section-toggle">
                            <i class="fas fa-plus"></i>
                        </div>
                    </div>
                    <div class="chat-list">
                        <div class="chat-item">
                            <i class="fas fa-folder"></i>
                            <div class="chat-name">Quantum Algorithm Research</div>
                        </div>
                        <div class="chat-item">
                            <i class="fas fa-folder"></i>
                            <div class="chat-name">Neural Architecture Design</div>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-section-header">
                        <span>Tools</span>
                    </div>
                    <div class="chat-list">
                        <div class="chat-item" id="upload-button">
                            <i class="fas fa-upload"></i>
                            <div class="chat-name">Upload Files</div>
                        </div>
                        <div class="chat-item" id="zip-button">
                            <i class="fas fa-file-archive"></i>
                            <div class="chat-name">Create ZIP Archive</div>
                        </div>
                        <div class="chat-item" id="voice-button">
                            <i class="fas fa-microphone"></i>
                            <div class="chat-name">Voice Input</div>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-section-header">
                        <span>Resources</span>
                    </div>
                    <div class="chat-list">
                        <div class="chat-item">
                            <i class="fab fa-github"></i>
                            <div class="chat-name">GitHub Repository</div>
                        </div>
                        <div class="chat-item">
                            <i class="fas fa-book"></i>
                            <div class="chat-name">Documentation</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="avatar">U</div>
                    <div class="user-info">
                        <div class="user-name">User</div>
                        <div class="user-plan">Pro Plan</div>
                    </div>
                </div>
                <div class="footer-actions">
                    <button class="sidebar-close" id="settings-button">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <div class="sidebar-backdrop" id="sidebar-backdrop"></div>
        
        <!-- Main Container with Chat Interface -->
        <div class="main-container" id="main-container">
            <div class="chat-column">
                <!-- Header Bar -->
                <div class="header-bar">
                    <div class="header-left">
                        <button class="menu-toggle" id="menu-toggle">
                            <i class="fas fa-bars"></i>
                        </button>
                        <div class="chat-title">
                            <i class="fas fa-comment"></i>
                            Quantum Computing Basics
                        </div>
                    </div>
                    <div class="header-actions">
                        <button class="header-action" id="dev-toolbar-toggle" title="Toggle Developer Tools">
                            <i class="fas fa-terminal"></i>
                        </button>
                        <button class="header-action" title="Search">
                            <i class="fas fa-search"></i>
                        </button>
                        <button class="header-action" title="Share">
                            <i class="fas fa-share-alt"></i>
                        </button>
                        <button class="header-action" title="More">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Developer Toolbar -->
                <div class="dev-toolbar" id="dev-toolbar">
                    <div class="dev-toolbar-group">
                        <button class="dev-toolbar-button">
                            <i class="fas fa-file"></i>
                            File
                        </button>
                        <button class="dev-toolbar-button">
                            <i class="fas fa-edit"></i>
                            Edit
                        </button>
                        <button class="dev-toolbar-button">
                            <i class="fas fa-search"></i>
                            Search
                        </button>
                        <button class="dev-toolbar-button">
                            <i class="fas fa-code-branch"></i>
                            Source Control
                        </button>
                    </div>
                    
                    <div class="dev-toolbar-group">
                        <button class="dev-toolbar-button">
                            <i class="fas fa-bug"></i>
                            Debug
                        </button>
                        <button class="dev-toolbar-button">
                            <i class="fas fa-play"></i>
                            Run
                        </button>
                    </div>
                    
                    <div class="dev-toolbar-group">
                        <button class="dev-toolbar-button">
                            <i class="fas fa-cube"></i>
                            Extensions
                        </button>
                        <button class="dev-toolbar-button">
                            <i class="fas fa-server"></i>
                            Development Environment
                        </button>
                    </div>
                </div>
                
                <!-- Toggle for dev toolbar -->
                <button class="dev-toolbar-toggle" id="dev-toolbar-bottom-toggle" title="Toggle Developer Tools">
                    <i class="fas fa-chevron-up"></i>
                </button>
                
                <!-- Chat Container -->
                <div class="chat-container" id="chat-container">
                    <div class="messages-container">
                        <!-- User message -->
                        <div class="message-group">
                            <div class="message message-user">
                                <div class="message-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="message-content">
                                    <p>What's today's date and time?</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- AI Thinking Process -->
                        <div class="thinking-process">
                            <div class="thinking-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="thinking-content">
                                <div class="thinking-header">
                                    Thinking
                                    <div class="thinking-dots">
                                        <div class="thinking-dot"></div>
                                        <div class="thinking-dot"></div>
                                        <div class="thinking-dot"></div>
                                    </div>
                                </div>
                                <div class="thinking-steps">
                                    <div class="thinking-step">Retrieving current date from system...</div>
                                    <div class="thinking-step">Formatting date according to standard UTC format...</div>
                                    <div class="thinking-step">Preparing response with current date and time information...</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Assistant response -->
                        <div class="message-group">
                            <div class="message message-assistant">
                                <div class="message-icon">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="message-content">
                                    <p>Today is Sunday, March 23, 2025, UTC+0</p>
                                    <div class="message-actions">
                                        <button class="message-action-button">
                                            <i class="fas fa-pen"></i>
                                            Edit
                                        </button>
                                        <button class="message-action-button">
                                            <i class="fas fa-copy"></i>
                                            Copy
                                        </button>
                                        <button class="message-action-button">
                                            <i class="fas fa-code"></i>
                                            View Code
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Input Footer -->
                    <div class="chat-footer">
                        <div class="footer-container">
                            <div class="input-container">
                                <textarea class="chat-textarea" placeholder="Message QuantumVA..." rows="1"></textarea>
                                
                                <div class="input-actions">
                                    <div class="input-hint">
                                        <i class="far fa-lightbulb"></i>
                                        Press Enter to send, Shift+Enter for new line
                                    </div>
                                    <div class="input-buttons">
                                        <button class="input-button" title="Upload File">
                                            <i class="fas fa-paperclip"></i>
                                        </button>
                                        <button class="input-button" title="Voice Input">
                                            <i class="fas fa-microphone"></i>
                                        </button>
                                        <button class="send-button">
                                            <i class="fas fa-paper-plane"></i>
                                            Send
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="suggestion-chips">
                                <div class="suggestion-chip">Tell me about quantum computing</div>
                                <div class="suggestion-chip">How do time crystals work?</div>
                                <div class="suggestion-chip">Generate Python code for quantum circuits</div>
                                <div class="suggestion-chip">Explain nanobrain technology</div>
                                <div class="suggestion-chip">What's Whole Brain Emulation?</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- AVATAR PANEL - Fixed at right side -->
        <div class="avatar-panel" id="avatar-panel">
            <div class="avatar-header">
                <div class="avatar-title">
                    <i class="fas fa-user-astronaut"></i>
                    Assistant
                </div>
                <div class="avatar-description">Virtual Assistant ready to help</div>
                <div class="avatar-controls">
                    <button class="avatar-control" id="avatar-settings" aria-label="Avatar settings">
                        <i class="fas fa-sliders-h"></i>
                    </button>
                </div>
            </div>
            
            <!-- 3D Holographic Avatar -->
            <div class="hologram-container">
                <!-- 3D World Environment -->
                <div class="world-environment">
                    <div class="floor-grid"></div>
                </div>
                
                <!-- Holographic platform -->
                <div class="hologram-platform"></div>
                
                <!-- 3D Character -->
                <div class="hologram-avatar">
                    <div class="character-model">
                        <div class="character-head">
                            <div class="character-eye left">
                                <div class="character-pupil"></div>
                            </div>
                            <div class="character-eye right">
                                <div class="character-pupil"></div>
                            </div>
                            <div class="character-mouth"></div>
                        </div>
                        <div class="character-body"></div>
                        <div class="character-arm left"></div>
                        <div class="character-arm right"></div>
                        <div class="character-leg left"></div>
                        <div class="character-leg right"></div>
                    </div>
                </div>
                
                <!-- Particles -->
                <div class="particles">
                    <div class="particle" style="left: 30%; bottom: 30%; animation-delay: 0s;"></div>
                    <div class="particle" style="left: 45%; bottom: 40%; animation-delay: 1s;"></div>
                    <div class="particle" style="left: 60%; bottom: 35%; animation-delay: 2s;"></div>
                    <div class="particle" style="left: 75%; bottom: 45%; animation-delay: 3s;"></div>
                    <div class="particle" style="left: 25%; bottom: 50%; animation-delay: 4s;"></div>
                    <div class="particle" style="left: 50%; bottom: 55%; animation-delay: 5s;"></div>
                </div>
                
                <!-- Holographic effects -->
                <div class="hologram-effects">
                    <div class="hologram-scan"></div>
                    <div class="hologram-glow"></div>
                    <div class="hologram-beams">
                        <div class="hologram-beam"></div>
                        <div class="hologram-beam"></div>
                        <div class="hologram-beam"></div>
                        <div class="hologram-beam"></div>
                    </div>
                </div>
                
                <div class="avatar-speech">
                    Today is Sunday, March 23, 2025, UTC+0
                </div>
            </div>
            
            <!-- Avatar customization controls -->
            <div class="avatar-customization">
                <div class="avatar-options">
                    <div class="avatar-option active">Quantum</div>
                    <div class="avatar-option">Robot</div>
                    <div class="avatar-option">Human</div>
                </div>
            </div>
        </div>
        
        <!-- RIGHT CONTENT VIEWER PANEL -->
        <div class="content-viewer-panel" id="content-viewer-panel">
            <!-- Sidebar toggle -->
            <button class="viewer-toggle" id="viewer-toggle">
                <i class="fas fa-chevron-left"></i>
            </button>
            
            <!-- Content viewer sidebar for collapsed mode -->
            <div class="viewer-sidebar">
                <button class="viewer-sidebar-icon active" title="Code" data-view="code">
                    <i class="fas fa-code"></i>
                </button>
                <button class="viewer-sidebar-icon" title="Images" data-view="image">
                    <i class="fas fa-image"></i>
                </button>
                <button class="viewer-sidebar-icon" title="Video" data-view="video">
                    <i class="fas fa-video"></i>
                </button>
                <button class="viewer-sidebar-icon" title="Audio" data-view="audio">
                    <i class="fas fa-music"></i>
                </button>
            </div>
            
            <!-- Expanded Content Panel -->
            <div class="viewer-header">
                <div class="viewer-title">
                    <i class="fas fa-file-code"></i>
                    Content Viewer
                </div>
            </div>
            
            <div class="viewer-tabs">
                <div class="viewer-tab active">main.py</div>
                <div class="viewer-tab">quantum_circuit.py</div>
                <div class="viewer-tab">README.md</div>
            </div>
            
            <div class="viewer-content">
                <div class="file-actions-toolbar">
                    <div class="file-info">
                        <div class="file-icon">
                            <i class="fab fa-python"></i>
                        </div>
                        <div class="file-details">
                            <div class="file-name">main.py</div>
                            <div class="file-meta">Python  4.2 KB  Last modified: Mar 22, 2025</div>
                        </div>
                    </div>
                    <div class="file-actions">
                        <button class="file-action-button" title="Add to favorites">
                            <i class="far fa-star"></i>
                        </button>
                        <button class="file-action-button" title="Copy">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="file-action-button" title="Download">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="file-action-button" title="Share to projects">
                            <i class="fas fa-folder-plus"></i>
                        </button>
                        <button class="file-action-button" title="Publish">
                            <i class="fas fa-globe"></i>
                        </button>
                        <div class="file-action-dropdown">
                            <button class="file-action-button dropdown-toggle" title="Share">
                                <i class="fas fa-share-alt"></i>
                            </button>
                            <div class="file-action-dropdown-menu">
                                <div class="dropdown-item">
                                    <i class="fas fa-link"></i> Copy private link
                                </div>
                                <div class="dropdown-item">
                                    <i class="fas fa-globe"></i> Copy public link
                                </div>
                                <div class="dropdown-divider"></div>
                                <div class="dropdown-item">
                                    <i class="far fa-envelope"></i> Email
                                </div>
                                <div class="dropdown-item">
                                    <i class="fab fa-slack"></i> Slack
                                </div>
                            </div>
                        </div>
                        <div class="file-action-dropdown">
                            <button class="file-action-button dropdown-toggle" title="More options">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                            <div class="file-action-dropdown-menu">
                                <div class="dropdown-item">
                                    <i class="fas fa-edit"></i> Rename
                                </div>
                                <div class="dropdown-item">
                                    <i class="fas fa-file-export"></i> Export
                                </div>
                                <div class="dropdown-item">
                                    <i class="fas fa-history"></i> Version history
                                </div>
                                <div class="dropdown-divider"></div>
                                <div class="dropdown-item danger">
                                    <i class="fas fa-trash"></i> Delete
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="viewer-content-body">
                    <div class="code-preview">
# Quantum Computing Demo
# Created by QuantumVA - 2025

import numpy as np
from qiskit import QuantumCircuit, Aer, execute
from qiskit.visualization import plot_histogram

def create_bell_state():
    """
    Creates a Bell state using quantum entanglement
    | = (|00 + |11)/2
    """
    # Create a quantum circuit with 2 qubits
    circuit = QuantumCircuit(2, 2)
    
    # Apply Hadamard gate to the first qubit
    circuit.h(0)
    
    # Apply CNOT gate with control=first qubit and target=second qubit
    circuit.cx(0, 1)
    
    # Measure both qubits
    circuit.measure([0, 1], [0, 1])
    
    return circuit

def run_simulation(circuit, shots=1024):
    """
    Run the quantum circuit on a simulator
    """
    # Use Aer's qasm_simulator
    simulator = Aer.get_backend('qasm_simulator')
    
    # Execute the circuit on the simulator
    job = execute(circuit, simulator, shots=shots)
    
    # Get the result
    result = job.result()
    
    # Return the counts
    return result.get_counts(circuit)
    
def main():
    # Create a Bell state circuit
    bell_circuit = create_bell_state()
    
    # Print the circuit
    print("Quantum Circuit:")
    print(bell_circuit)
    
    # Run the simulation
    counts = run_simulation(bell_circuit)
    
    # Print the results
    print("\nSimulation Results:")
    print(counts)
    
    # Expected result: approximately 50% |00 and 50% |11
    # Due to quantum entanglement
    
if __name__ == "__main__":
    main()
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- File Explorer Modal -->
    <div class="modal-backdrop" id="file-explorer-modal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-folder-open"></i> File Explorer
                </div>
                <button class="modal-close" id="file-explorer-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="file-explorer-toolbar">
                    <div class="file-search">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search files..." class="file-search-input">
                    </div>
                    <div class="file-actions">
                        <button class="file-action-btn" title="New Folder">
                            <i class="fas fa-folder-plus"></i>
                        </button>
                        <button class="file-action-btn" title="Upload File">
                            <i class="fas fa-upload"></i>
                        </button>
                        <button class="file-action-btn file-refresh-btn" title="Refresh">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
                <div class="file-explorer-breadcrumb">
                    <div class="breadcrumb-item active">
                        <i class="fas fa-home"></i> Home
                    </div>
                    <div class="breadcrumb-separator">/</div>
                    <div class="breadcrumb-item">Projects</div>
                    <div class="breadcrumb-separator">/</div>
                    <div class="breadcrumb-item">Quantum Computing</div>
                </div>
                <div class="file-explorer-view">
                    <div class="file-explorer-sidebar">
                        <div class="file-tree">
                            <div class="file-tree-item expanded">
                                <div class="file-tree-item-label">
                                    <i class="fas fa-folder-open"></i> Projects
                                </div>
                                <div class="file-tree-children">
                                    <div class="file-tree-item expanded">
                                        <div class="file-tree-item-label">
                                            <i class="fas fa-folder-open"></i> Quantum Computing
                                        </div>
                                        <div class="file-tree-children">
                                            <div class="file-tree-item">
                                                <div class="file-tree-item-label">
                                                    <i class="fas fa-folder"></i> Data
                                                </div>
                                            </div>
                                            <div class="file-tree-item">
                                                <div class="file-tree-item-label">
                                                    <i class="fas fa-folder"></i> Models
                                                </div>
                                            </div>
                                            <div class="file-tree-item">
                                                <div class="file-tree-item-label">
                                                    <i class="fas fa-folder"></i> Results
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="file-tree-item">
                                        <div class="file-tree-item-label">
                                            <i class="fas fa-folder"></i> Neural Networks
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="file-tree-item">
                                <div class="file-tree-item-label">
                                    <i class="fas fa-folder"></i> Documents
                                </div>
                            </div>
                            <div class="file-tree-item">
                                <div class="file-tree-item-label">
                                    <i class="fas fa-folder"></i> Shared
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="file-explorer-content">
                        <div class="file-list-header">
                            <div class="file-list-header-item file-name-header">Name</div>
                            <div class="file-list-header-item file-size-header">Size</div>
                            <div class="file-list-header-item file-type-header">Type</div>
                            <div class="file-list-header-item file-modified-header">Modified</div>
                        </div>
                        <div class="file-list">
                            <div class="file-item" data-type="file" data-extension="py">
                                <div class="file-item-icon">
                                    <i class="fab fa-python"></i>
                                </div>
                                <div class="file-item-details">
                                    <div class="file-item-name">main.py</div>
                                    <div class="file-item-size">4.2 KB</div>
                                    <div class="file-item-type">Python</div>
                                    <div class="file-item-modified">Mar 22, 2025</div>
                                </div>
                                <div class="file-item-actions">
                                    <button class="file-item-action" title="Download">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="file-item-action" title="Copy">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="file-item-action" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="file-item" data-type="file" data-extension="py">
                                <div class="file-item-icon">
                                    <i class="fab fa-python"></i>
                                </div>
                                <div class="file-item-details">
                                    <div class="file-item-name">quantum_circuit.py</div>
                                    <div class="file-item-size">3.7 KB</div>
                                    <div class="file-item-type">Python</div>
                                    <div class="file-item-modified">Mar 21, 2025</div>
                                </div>
                                <div class="file-item-actions">
                                    <button class="file-item-action" title="Download">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="file-item-action" title="Copy">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="file-item-action" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="file-item" data-type="file" data-extension="md">
                                <div class="file-item-icon">
                                    <i class="fab fa-markdown"></i>
                                </div>
                                <div class="file-item-details">
                                    <div class="file-item-name">README.md</div>
                                    <div class="file-item-size">2.1 KB</div>
                                    <div class="file-item-type">Markdown</div>
                                    <div class="file-item-modified">Mar 20, 2025</div>
                                </div>
                                <div class="file-item-actions">
                                    <button class="file-item-action" title="Download">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="file-item-action" title="Copy">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="file-item-action" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="file-item" data-type="file" data-extension="json">
                                <div class="file-item-icon">
                                    <i class="fas fa-file-code"></i>
                                </div>
                                <div class="file-item-details">
                                    <div class="file-item-name">config.json</div>
                                    <div class="file-item-size">1.8 KB</div>
                                    <div class="file-item-type">JSON</div>
                                    <div class="file-item-modified">Mar 19, 2025</div>
                                </div>
                                <div class="file-item-actions">
                                    <button class="file-item-action" title="Download">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="file-item-action" title="Copy">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="file-item-action" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="file-item" data-type="file" data-extension="html">
                                <div class="file-item-icon">
                                    <i class="fab fa-html5"></i>
                                </div>
                                <div class="file-item-details">
                                    <div class="file-item-name">visualization.html</div>
                                    <div class="file-item-size">6.4 KB</div>
                                    <div class="file-item-type">HTML</div>
                                    <div class="file-item-modified">Mar 18, 2025</div>
                                </div>
                                <div class="file-item-actions">
                                    <button class="file-item-action" title="Download">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="file-item-action" title="Copy">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="file-item-action" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-button modal-button-secondary" id="file-explorer-cancel">Cancel</button>
                <button class="modal-button modal-button-primary" id="download-selected-btn">Download Selected</button>
                <button class="modal-button modal-button-primary" id="zip-selected-btn">Zip Selected Files</button>
            </div>
        </div>
    </div>
    
    <!-- Download Files Modal -->
    <div class="modal-backdrop" id="download-modal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-download"></i> Download Files
                </div>
                <button class="modal-close" id="download-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="download-options">
                    <div class="download-option">
                        <input type="checkbox" id="select-all-files" checked>
                        <label for="select-all-files">Select All Files</label>
                    </div>
                </div>
                <div class="download-files-list">
                    <div class="download-file-item">
                        <div class="download-file-check">
                            <input type="checkbox" id="file-1" checked>
                        </div>
                        <div class="download-file-icon">
                            <i class="fab fa-python"></i>
                        </div>
                        <div class="download-file-name">main.py</div>
                        <div class="download-file-size">4.2 KB</div>
                    </div>
                    <div class="download-file-item">
                        <div class="download-file-check">
                            <input type="checkbox" id="file-2" checked>
                        </div>
                        <div class="download-file-icon">
                            <i class="fab fa-python"></i>
                        </div>
                        <div class="download-file-name">quantum_circuit.py</div>
                        <div class="download-file-size">3.7 KB</div>
                    </div>
                    <div class="download-file-item">
                        <div class="download-file-check">
                            <input type="checkbox" id="file-3" checked>
                        </div>
                        <div class="download-file-icon">
                            <i class="fab fa-markdown"></i>
                        </div>
                        <div class="download-file-name">README.md</div>
                        <div class="download-file-size">2.1 KB</div>
                    </div>
                    <div class="download-file-item">
                        <div class="download-file-check">
                            <input type="checkbox" id="file-4" checked>
                        </div>
                        <div class="download-file-icon">
                            <i class="fas fa-file-code"></i>
                        </div>
                        <div class="download-file-name">config.json</div>
                        <div class="download-file-size">1.8 KB</div>
                    </div>
                    <div class="download-file-item">
                        <div class="download-file-check">
                            <input type="checkbox" id="file-5" checked>
                        </div>
                        <div class="download-file-icon">
                            <i class="fab fa-html5"></i>
                        </div>
                        <div class="download-file-name">visualization.html</div>
                        <div class="download-file-size">6.4 KB</div>
                    </div>
                </div>
                <div class="download-summary">
                    <div class="download-total">
                        <span class="download-label">Total Size:</span>
                        <span class="download-value">18.2 KB</span>
                    </div>
                    <div class="download-format">
                        <span class="download-label">Format:</span>
                        <div class="download-format-options">
                            <div class="download-format-option">
                                <input type="radio" id="format-individual" name="download-format" checked>
                                <label for="format-individual">Individual Files</label>
                            </div>
                            <div class="download-format-option">
                                <input type="radio" id="format-zip" name="download-format">
                                <label for="format-zip">ZIP Archive</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-button modal-button-secondary" id="download-cancel">Cancel</button>
                <button class="modal-button modal-button-primary" id="download-confirm">
                    <i class="fas fa-download"></i> Download
                </button>
            </div>
        </div>
    </div>
    
    <!-- JavaScript to handle interactivity -->
    <script>
        // DOM Elements
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const sidebarBackdrop = document.getElementById('sidebar-backdrop');
        const menuToggle = document.getElementById('menu-toggle');
        const mainContainer = document.getElementById('main-container');
        const contentViewerPanel = document.getElementById('content-viewer-panel');
        const viewerToggle = document.getElementById('viewer-toggle');
        const devToolbar = document.getElementById('dev-toolbar');
        const devToolbarToggle = document.getElementById('dev-toolbar-toggle');
        const devToolbarBottomToggle = document.getElementById('dev-toolbar-bottom-toggle');
        
        // New Menu and Panel Controls
        const mainMenuToggle = document.getElementById('main-menu-toggle');
        const mainMenuDropdown = document.getElementById('main-menu-dropdown');
        const toggleLeftPanel = document.getElementById('toggle-left-panel');
        const toggleDevTools = document.getElementById('toggle-dev-tools');
        const toggleAvatarPanel = document.getElementById('toggle-avatar-panel');
        const toggleContentPanel = document.getElementById('toggle-content-panel');
        
        // File Explorer and Download Modal Elements
        const fileExplorerBtn = document.getElementById('file-explorer-btn');
        const fileExplorerModal = document.getElementById('file-explorer-modal');
        const fileExplorerClose = document.getElementById('file-explorer-close');
        const downloadBtn = document.getElementById('download-btn');
        const zipFilesBtn = document.getElementById('zip-files-btn');
        const downloadModal = document.getElementById('download-modal');
        const downloadModalClose = document.getElementById('download-modal-close');
        const downloadCancel = document.getElementById('download-cancel');
        const downloadConfirm = document.getElementById('download-confirm');
        const zipSelectedBtn = document.getElementById('zip-selected-btn');
        const downloadSelectedBtn = document.getElementById('download-selected-btn');
        const selectAllFiles = document.getElementById('select-all-files');
        
        // Main Menu Toggle
        if (mainMenuToggle) {
            mainMenuToggle.addEventListener('click', () => {
                mainMenuToggle.classList.toggle('active');
                mainMenuDropdown.classList.toggle('active');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!mainMenuToggle.contains(e.target) && !mainMenuDropdown.contains(e.target)) {
                    mainMenuToggle.classList.remove('active');
                    mainMenuDropdown.classList.remove('active');
                }
            });
        }
        
        // Panel Control Buttons
        if (toggleLeftPanel) {
            toggleLeftPanel.addEventListener('click', () => {
                sidebar.classList.toggle('collapsed');
                mainContainer.classList.toggle('sidebar-collapsed');
                toggleLeftPanel.classList.toggle('active');
            });
        }
        
        if (toggleDevTools) {
            toggleDevTools.addEventListener('click', () => {
                devToolbar.classList.toggle('collapsed');
                toggleDevTools.classList.toggle('active');
            });
        }
        
        if (toggleAvatarPanel) {
            toggleAvatarPanel.addEventListener('click', () => {
                document.getElementById('avatar-panel').classList.toggle('hidden');
                toggleAvatarPanel.classList.toggle('active');
            });
        }
        
        if (toggleContentPanel) {
            toggleContentPanel.addEventListener('click', () => {
                contentViewerPanel.classList.toggle('expanded');
                mainContainer.classList.toggle('content-panel-expanded');
                toggleContentPanel.classList.toggle('active');
            });
        }
        
        // Toggle sidebar
        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            mainContainer.classList.toggle('sidebar-collapsed');
        });
        
        // Toggle sidebar from menu button (mobile)
        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            sidebarBackdrop.classList.toggle('active');
            mainContainer.classList.toggle('sidebar-collapsed');
        });
        
        // Toggle content viewer panel
        viewerToggle.addEventListener('click', () => {
            contentViewerPanel.classList.toggle('expanded');
            mainContainer.classList.toggle('content-panel-expanded');
        });
        
        // Toggle developer toolbar
        devToolbarToggle.addEventListener('click', () => {
            devToolbar.classList.toggle('collapsed');
        });
        
        devToolbarBottomToggle.addEventListener('click', () => {
            devToolbar.classList.toggle('collapsed');
        });
        
        // Close sidebar on backdrop click (mobile)
        sidebarBackdrop.addEventListener('click', () => {
            sidebar.classList.add('collapsed');
            sidebarBackdrop.classList.remove('active');
            mainContainer.classList.add('sidebar-collapsed');
        });
        
        // Chat textarea auto-resize
        const chatTextarea = document.querySelector('.chat-textarea');
        chatTextarea.addEventListener('input', () => {
            chatTextarea.style.height = 'auto';
            chatTextarea.style.height = (chatTextarea.scrollHeight < 200) ? 
                chatTextarea.scrollHeight + 'px' : '200px';
        });
        
        // Top Menu Functionality
        const topMenuItems = document.querySelectorAll('.top-menu-item');
        
        topMenuItems.forEach(item => {
            item.addEventListener('click', () => {
                topMenuItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
            });
        });
        
        // File Explorer Modal
        fileExplorerBtn.addEventListener('click', () => {
            fileExplorerModal.classList.add('active');
        });
        
        fileExplorerClose.addEventListener('click', () => {
            fileExplorerModal.classList.remove('active');
        });
        
        if (document.getElementById('file-explorer-cancel')) {
            document.getElementById('file-explorer-cancel').addEventListener('click', () => {
                fileExplorerModal.classList.remove('active');
            });
        }
        
        // Download Modal
        downloadBtn.addEventListener('click', () => {
            downloadModal.classList.add('active');
        });
        
        downloadModalClose.addEventListener('click', () => {
            downloadModal.classList.remove('active');
        });
        
        downloadCancel.addEventListener('click', () => {
            downloadModal.classList.remove('active');
        });
        
        downloadConfirm.addEventListener('click', () => {
            // Simulating download process
            alert('Download started');
            downloadModal.classList.remove('active');
        });
        
        // Zip Files Button
        zipFilesBtn.addEventListener('click', () => {
            downloadModal.classList.add('active');
            // Pre-select the ZIP option
            document.getElementById('format-zip').checked = true;
        });
        
        // Select All Files
        selectAllFiles.addEventListener('change', (e) => {
            const fileCheckboxes = document.querySelectorAll('.download-file-check input[type="checkbox"]');
            fileCheckboxes.forEach(checkbox => {
                checkbox.checked = e.target.checked;
            });
        });
        
        // File selection in explorer
        const fileItems = document.querySelectorAll('.file-item');
        fileItems.forEach(item => {
            item.addEventListener('click', (e) => {
                // Don't toggle selection when clicking action buttons
                if (e.target.closest('.file-item-action')) return;
                
                item.classList.toggle('selected');
            });
        });
        
        // Download selected files
        downloadSelectedBtn.addEventListener('click', () => {
            const selectedFiles = document.querySelectorAll('.file-item.selected');
            if (selectedFiles.length === 0) {
                alert('Please select at least one file to download');
                return;
            }
            
            // Simulate download
            alert(`Downloading ${selectedFiles.length} files`);
            fileExplorerModal.classList.remove('active');
        });
        
        // Zip selected files
        zipSelectedBtn.addEventListener('click', () => {
            const selectedFiles = document.querySelectorAll('.file-item.selected');
            if (selectedFiles.length === 0) {
                alert('Please select at least one file to zip');
                return;
            }
            
            // Simulate zip creation and download
            alert(`Creating ZIP archive with ${selectedFiles.length} files`);
            fileExplorerModal.classList.remove('active');
        });
        
        // File tree interaction
        const fileTreeItems = document.querySelectorAll('.file-tree-item');
        fileTreeItems.forEach(item => {
            const label = item.querySelector('.file-tree-item-label');
            label.addEventListener('click', () => {
                item.classList.toggle('expanded');
                
                // Update folder icon
                const icon = label.querySelector('i');
                if (icon.classList.contains('fa-folder')) {
                    icon.classList.remove('fa-folder');
                    icon.classList.add('fa-folder-open');
                } else if (icon.classList.contains('fa-folder-open')) {
                    icon.classList.remove('fa-folder-open');
                    icon.classList.add('fa-folder');
                }
            });
        });
        
        // File operations from menu
        document.getElementById('new-file-btn').addEventListener('click', () => {
            alert('Create new file functionality would open here');
        });
        
        document.getElementById('open-file-btn').addEventListener('click', () => {
            alert('Open file dialog would appear here');
        });
    </script>
</body>
</html>
